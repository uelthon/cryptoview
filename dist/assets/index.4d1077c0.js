import{h as u,r,b as p,a as d,i as C,k as f,l as v,j as e,L as x,m as _,n as S,d as o,o as b,_ as m}from"./index.db63a436.js";import{T as L}from"./TableChart.1ed7d055.js";const y="/api/coin",$=async(t,a)=>{const{data:n}=await u.get(`${y}/${t}`,{params:{...a}});return n.data},I=async(t,a)=>{const{data:n}=await u.get(`${y}/${t}/history`,{params:{...a}});return n.data},g={getCoin:$,getCoinHistory:I},N=t=>{const[a,n]=r.exports.useState(!0),s=p(),i=async()=>{const c=await g.getCoin(t);s(C(c.coin)),n(!1)};return r.exports.useEffect(()=>{n(!0),i()},[t]),{coinInfoLoading:a}},z=t=>{const[a,n]=r.exports.useState(!0),s=d(l=>l.coin.params),i=p(),c=async()=>{const l=await g.getCoinHistory(t,s);i(f(l)),n(!1)};return r.exports.useEffect(()=>{n(!0),c()},[t,s]),{coinStatsLoading:a}},P=({children:t})=>{const n=v("/coin/:id").params.id,{coinInfoLoading:s}=N(n);return z(n),s?e(x,{height:"80vh"}):t},k=t=>{const a=new Date(t*1e3).toISOString();return a.slice(0,10)+" "+a.slice(11,16)},w=()=>{const t=d(i=>{var c;return(c=i.coin.coinStats)==null?void 0:c.history}),a=d(i=>{var c;return(c=i.coin.coinStats)==null?void 0:c.change}),n={maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1}},scales:{xAxes:{type:"time"}}},s={labels:t==null?void 0:t.map(i=>k(i.timestamp)),datasets:[{data:t==null?void 0:t.map(i=>i.price),borderColor:a>=0?"green":"red",backgroundColor:a>=0?"green":"red"}]};return e("div",{style:{position:"relative",width:"100%",height:"80vh"},children:e(_,{data:s,options:n})})},D=({time:t})=>{const a=d(c=>{var l;return(l=c.coin.params)==null?void 0:l.timePeriod}),n=r.exports.useRef(),s=p(),i=()=>{n.current.scrollIntoView({inline:"center",block:"end",behavior:"smooth"}),s(S({timePeriod:t}))};return e("button",{ref:n,className:`btn-time-recap ${t===a?"select":""}`,"data-time":t,onClick:()=>i(),children:t})};const E=()=>e("div",{className:"container-btns-recap",children:["1h","3h","12h","24h","7d","30d","3m","1y","3y","5y","all"].map(t=>e(D,{time:t},t))}),h=({quantity:t,type:a,symbol:n=""})=>o("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[e("div",{style:{fontSize:"18px",fontWeight:"bold"},children:b(t,!0)}),e("div",{style:{fontSize:"12px",color:"#6a6d78"},children:a})]});const T=()=>{const t=d(a=>a.coin.coin);return t?o("div",{className:"container-header-coin",children:[o("div",{className:"container-title",children:[o("div",{className:"title",children:[e("img",{width:"56px",height:"56px",src:t.iconUrl}),o("div",{className:"name",children:[e("h1",{style:{marginBottom:0},children:t.name}),e("p",{style:{marginBottom:0,fontSize:"16px",color:"#6a6d78"},children:t.symbol})]})]}),o("div",{className:"container-chart",children:[e("div",{style:{color:t.change>0?"green":"red",fontSize:"18px",fontWeight:"bold"},children:t.change>0?`+${t.change}%`:`${t.change}%`}),e("div",{className:"chart",children:e(L,{coin:t})})]})]}),o("div",{className:"container-stats",children:[e("div",{className:"price",children:o("h1",{children:["$",parseFloat(t.price).toFixed(4),e("span",{children:"USD"})]})}),o("div",{className:"stats",children:[e(h,{symbol:"$",quantity:t.marketCap,type:"Market Cap"}),e(h,{symbol:"$",quantity:t.fullyDilutedMarketCap,type:"FD Market Cap"}),e(h,{symbol:"$",quantity:t["24hVolume"],type:"Trading Volume 24h"}),e(h,{quantity:t.supply.circulating,type:"Circulating Supply"}),e(h,{quantity:t.supply.total,type:"Max supply"})]})]})]}):null};const B=()=>{const t=d(i=>i.coin.coinStats),a=d(i=>i.coin.params);if(!t)return null;const n=t.change,s=a.timePeriod;return o("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e("h2",{children:"Price Chart"}),o("div",{style:{display:"flex",alignItems:"center",gap:"0.375rem"},children:[e("p",{style:{marginBottom:0,color:"#6a6d78"},children:s}),e("p",{style:{color:n>=0?"green":"red",marginBottom:0},children:n>=0?`+${n}%`:`${n}%`})]})]})},V=r.exports.lazy(()=>m(()=>import("./index.2259a570.js"),["assets/index.2259a570.js","assets/index.e374a5eb.css","assets/index.db63a436.js","assets/index.e44f0a75.css","assets/index.esm.bc841225.js"])),A=r.exports.lazy(()=>m(()=>import("./index.6d83092a.js"),["assets/index.6d83092a.js","assets/index.679a748a.css","assets/index.db63a436.js","assets/index.e44f0a75.css"])),R=r.exports.lazy(()=>m(()=>import("./index.ef8d48d5.js"),["assets/index.ef8d48d5.js","assets/index.9045cb68.css","assets/index.db63a436.js","assets/index.e44f0a75.css","assets/index.esm.bc841225.js"])),q=r.exports.lazy(()=>m(()=>import("./index.34058cac.js"),["assets/index.34058cac.js","assets/index.2ec6a400.css","assets/index.db63a436.js","assets/index.e44f0a75.css","assets/Form.7ce7ab69.js"])),H=()=>e(P,{children:e("div",{className:"container-coin",children:o("div",{className:"container-coin-components",children:[e(T,{}),e(B,{}),e(w,{}),e(E,{}),o("div",{className:"container-grid",children:[e(V,{}),e(q,{}),e(A,{}),e(R,{})]})]})})}),F=H;export{F as default};
